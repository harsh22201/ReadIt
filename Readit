
CREATE DATABASE READDITTT;

USE READDITTT;


CREATE TABLE SUPPLIER (
    SUPPLIER_ID INT PRIMARY KEY,
    EMAIL VARCHAR(255) UNIQUE,
    PHONE_NO INT UNIQUE,
    QUANTITY_SUPPLIED INT
);


CREATE TABLE BOOKS (
    BOOK_ID INT PRIMARY KEY,
    AUTHOR VARCHAR(255),
    GENRE VARCHAR(255),
    NAME VARCHAR(255),
    PRICE FLOAT,
    SUPPLIER_ID INT
);


CREATE TABLE CUSTOMERS (
    CUSTOMER_ID INT PRIMARY KEY,
    FIRST_NAME VARCHAR(255),
    LAST_NAME VARCHAR(255),
    EMAIL VARCHAR(255) UNIQUE,
    HOUSE_NO INT,
    CITY_TOWN VARCHAR(255),
    PIN_CODE INT,
    PHONE_NO INT UNIQUE,
    CART_ID INT
);


CREATE TABLE ADMIN (
    ADMIN_ID INT PRIMARY KEY,
    FIRST_NAME VARCHAR(255),
    LAST_NAME VARCHAR(255),
    ADMIN_PASSWORD VARCHAR(255),
    EMAIL VARCHAR(255) UNIQUE
);


CREATE TABLE CART (
    CART_ID INT PRIMARY KEY,
    CUSTOMER_ID INT,
    PAYMENT_METHOD VARCHAR(255),
    DAY_OF_PAYMENT DATE,
    AMOUNT_PAID FLOAT
);


CREATE TABLE DELIVERY_PARTNER (
    PARTNER_ID INT PRIMARY KEY,
    FIRST_NAME VARCHAR(255),
    LAST_NAME VARCHAR(255),
    PHONE_NO INT UNIQUE,
    EMAIL VARCHAR(255) UNIQUE,
    BOOK_ID INT
);


CREATE TABLE ORDERR (
    ORDER_ID INT PRIMARY KEY,
    ORDER_STATUS VARCHAR(255),
    QUANTITY INT,
    ORDER_DATE DATE,
    ORDER_VALUE FLOAT,
    BOOK_ID INT,
    CUSTOMER_ID INT,
    PARTNER_ID INT
);


CREATE TABLE RATINGS_AND_REVIEWS (
    CUSTOMER_ID INT PRIMARY KEY,
    RATINGS INT,
    COMMENTS VARCHAR(255)
);




ALTER TABLE BOOKS
ADD FOREIGN KEY (SUPPLIER_ID) REFERENCES SUPPLIER(SUPPLIER_ID);


ALTER TABLE CUSTOMERS
ADD FOREIGN KEY (CART_ID) REFERENCES CART(CART_ID);


ALTER TABLE DELIVERY_PARTNER
ADD FOREIGN KEY (BOOK_ID) REFERENCES BOOKS(BOOK_ID);


ALTER TABLE ORDERR
ADD FOREIGN KEY (BOOK_ID) REFERENCES BOOKS(BOOK_ID),
ADD FOREIGN KEY (CUSTOMER_ID) REFERENCES CUSTOMERS(CUSTOMER_ID),
ADD FOREIGN KEY (PARTNER_ID) REFERENCES DELIVERY_PARTNER(PARTNER_ID);


ALTER TABLE RATINGS_AND_REVIEWS
ADD FOREIGN KEY (CUSTOMER_ID) REFERENCES CUSTOMERS(CUSTOMER_ID);


SHOW TABLES;


